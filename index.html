<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6-Max Preflop Trainer</title>
</head>
<body>

    <h1>6-Max Preflop Trainer</h1>
    <p id="question"></p>
    <button onclick="checkAnswer(true)">Call</button>
    <button onclick="checkAnswer(false)">Fold</button>
    <p>Pontszám: <span id="score">0</span></p>

    <script>
        const positions = ["UTG", "MP", "CO", "BU", "SB", "BB"];
        const callRanges = {
            "MP": {
                "UTG": ["JJ", "TT", "99", "88", "AQo", "AJo", "AQs", "AJs", "KQs"]
            },
            "CO": {
                "UTG": ["JJ", "TT", "99", "88", "AQo", "AJo", "AQs", "AJs", "KQs"],
                "MP":  ["TT", "99", "88", "77", "AQo", "AJo", "ATo", "AQs", "AJs", "A10s", "A9s", "KQs", "KJs", "QJs"]
            },
            "BU": {
                "UTG": ["TT", "99", "88", "77", "AQo", "AJo", "ATo", "AQs", "AJs", "ATs", "A9s", "KQs", "KJs", "QJs"],
                "MP": ["99", "88", "77", "66", "AQo", "AJo", "ATo", "AJs", "ATs", "A9s", "KQo", "KJo", "KTs", "KQs", "QTs", "QJs"],
                "CO": ["88", "77", "66", "55", "AJo", "ATo", "A9o", "A8o", "A9s", "A8s", "A7s", "A6s", "A5s", "KQo", "KJo", "KJs", "KTs", "KQs", "QTs", "QJs", "JTs", "T9s"]
            },
            "SB": {
                "UTG": ["TT", "99", "88", "77", "AQo", "AJo", "ATo", "AQs", "AJs", "ATs", "A9s", "KQs", "KJs", "QJs"],
                "MP": ["99", "88", "77", "66", "AQo", "AJo", "ATo", "AJs", "ATs", "A9s", "KQo", "KJo", "KTs", "KQs", "QTs", "QJs"],
                "CO": ["88", "77", "66", "55", "AJo", "ATo", "A9o", "A8o", "A9s", "A8s", "A7s", "A6s", "A5s", "KQo", "KJo", "KJs", "KTs", "KQs", "QTs", "QJs", "JTs", "T9s"],
                "BU": ["77", "66", "55", "44", "33", "22", "ATo", "A9o", "A8o", "A7o","A6o","A5o","A4o","A3o","A2o", "A6s", "A5s", "A4s", "A3s", "A2s", "Kjo", "KTo", "K9s", "KTs","KJs","KQs", "QTs", "QJs", "J9s", "JTs","T8s", "T9s", "98s", "87s"]
            },
            "BB": {
                "UTG": ["99", "88", "77", "66", "55", "44", "33","22", "AJo", "ATo", "A9o", "A8o", "A7o","A6o","A5o","A4o","A3o","A2o", "A5s","A4s","A3s","A2s", "KQo", "KTo", "K9s", "KTs","KJs","KQs", "QTs", "QJs", "J9s", "JTs", "T8s", "T9s", "98s",],
                "MP": ["88", "77", "66", "55", "44", "33","22","AJo", "ATo", "A9o", "A8o", "A7o","A6o","A5o","A4o","A3o","A2o","A6s","A5s","A4s","A3s","A2s","KQo", "KTo", "K9s", "KTs","KJs","KQs", "QTs", "QJs", "J9s", "JTs", "T8s", "T9s", "98s", "87s"],
                "CO": ["77", "66", "55", "44", "33","22","ATo", "A9o", "A8o", "A7o","A6o","A5o","A4o","A3o","A2o","A6s","A5s","A4s","A3s","A2s", "KJo", "KTo", "K9s", "KTs","KJs","KQs", "QTs", "QJs", "J9s", "JTs", "T8s", "T9s", "98s", "87s"],
                "BU": ["66", "55", "44", "33","22", "ATo", "A9o", "A8o", "A7o","A6o","A5o","A4o","A3o","A2o", "A5s","A4s","A3s","A2s", "KTo", "K9s", "KTs","KJs","KQs", "QTs", "QJs", "J9s", "JTs", "T8s", "T9s", "98s", "87s", "76s"],
                "SB": ["55", "44", "33","22", "ATo", "A9o", "A8o", "A7o","A6o","A5o","A4o","A3o","A2o", "A5s","A4s","A3s","A2s", "KTo", "K9s", "KTs","KJs","KQs", "QTs", "QJs", "J9s", "JTs", "T8s", "T9s", "98s", "87s", "76s"]
            }
        };

        let score = 0;
        let villainPos, heroPos, currentHand;

        function generateNewQuestion() {
            villainPos = positions[Math.floor(Math.random() * (positions.length - 1))]; // BB nem emel
            
            // Hero csak későbbi pozícióból választhat
            let villainIndex = positions.indexOf(villainPos);
            let availablePositions = positions.slice(villainIndex + 1);
            heroPos = availablePositions[Math.floor(Math.random() * availablePositions.length)];
            
            currentHand = generateRandomHand();
            
            document.getElementById("question").textContent =
                `Villain (${villainPos}) emelt. Hero (${heroPos}) kapott lapja: ${currentHand}`;
        }

        function generateRandomHand() {
            const ranks = ["7", "8", "9", "T", "J", "Q", "K", "A"];
            const suits = ["s", "o"]; // "s" = suited, "o" = off-suited
            const hand = [];

            // Két lapot generálunk
            const firstCard = ranks[Math.floor(Math.random() * ranks.length)] + ranks[Math.floor(Math.random() * ranks.length)];
            const secondCard = ranks[Math.floor(Math.random() * ranks.length)] + ranks[Math.floor(Math.random() * ranks.length)];

            return firstCard + suits[Math.floor(Math.random() * suits.length)] + " " + secondCard + suits[Math.floor(Math.random() * suits.length)];
        }

        function shouldCall(heroPos, villainPos, hand) {
            return callRanges[heroPos]?.[villainPos]?.includes(hand) || false;
        }

        function checkAnswer(isCall) {
            let correctAnswer = shouldCall(heroPos, villainPos, currentHand);

            if (isCall === correctAnswer) {
                score++;
                alert("✔️ Helyes válasz!");
                document.getElementById("score").textContent = score;
                generateNewQuestion();
            } else {
                alert("❌ Rossz válasz! A játék véget ért.");
                score = 0;
                document.getElementById("score").textContent = score;
                generateNewQuestion();
            }
        }

        generateNewQuestion(); // Első kérdés betöltése
    </script>

</body>
</html>
