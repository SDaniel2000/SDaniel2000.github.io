<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Póker Képzés</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #game-container {
            margin-top: 20px;
        }
        .question {
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        .buttons {
            margin-top: 20px;
        }
        .score {
            margin-top: 20px;
            font-size: 1.3em;
        }
    </style>
</head>
<body>
    <h1>Póker Képzés</h1>
    <div id="game-container">
        <div class="question">
            <p>Villain pozíció: <span id="villain-pos"></span></p>
            <p>Hero pozíció: <span id="hero-pos"></span></p>
            <p>Hero lapja: <span id="hand"></span></p>
        </div>
        <div class="buttons">
            <button onclick="checkAnswer(true)">CALL</button>
            <button onclick="checkAnswer(false)">FOLD</button>
        </div>
        <div class="score">
            <p>Pontszámod: <span id="score">0</span></p>
        </div>
    </div>

    <script>
        const positions = ["UTG", "MP", "CO", "BU", "SB", "BB"];
        const callRanges = {
            "MP": {
                "UTG": ["JJ", "TT", "99", "88", "AQo", "AJo", "AQs", "AJs", "KQs"]
            },
            "CO": {
                "UTG": ["JJ", "TT", "99", "88", "AQo", "AJo", "AQs", "AJs", "KQs"],
                "MP": ["TT", "99", "88", "77", "AQo", "ATo", "AQs", "A9s", "KQs", "KJs", "QJs"]
            },
            "BU": {
                "UTG": ["TT", "99", "88", "77", "AQo", "ATo", "AQs", "A9s", "KQs", "KJs", "QJs"],
                "MP": ["TT", "99", "88", "77", "AQo", "ATo", "AQs", "A9s", "KQs", "KJs", "QJs"],
                "CO": ["88", "55", "AJo", "A8o", "A5s", "A2s", "KQo", "KJo", "KTs", "QTs", "JTs"]
            },
            "SB": {
                "UTG": ["TT", "99", "88", "77", "AQo", "ATo", "AQs", "A9s", "KQs", "KJs", "QJs"],
                "MP": ["TT", "99", "88", "77", "AQo", "ATo", "AQs", "A9s", "KQs", "KJs", "QJs"],
                "CO": ["88", "55", "AJo", "A8o", "A5s", "A2s", "KQo", "KJo", "KTs", "QTs", "JTs"],
                "BU": ["77", "22", "AJo", "A8o", "A5s", "A2s", "KTo", "K9s", "QTs", "J9s", "T8s", "98s"]
            },
            "BB": {
                "UTG": ["99", "88", "77", "66", "22", "AJo", "A2o", "A5s", "A2s", "KQo", "KTo", "K9s", "QTs", "J9s", "T8s", "98s"],
                "MP": ["88", "22", "AJo", "A2o", "A6s", "A2s", "KTo", "K9s", "QTs", "J9s", "T8s", "98s", "87s"],
                "CO": ["77", "22", "AJo", "A2o", "A6s", "A2s", "KTo", "K9s", "QTs", "J9s", "T8s", "98s", "87s"],
                "BU": ["66", "22", "AJo", "A2o", "A5s", "A2s", "KTo", "K9s", "QTs", "J9s", "T8s", "98s", "87s", "76s"],
                "SB": ["55", "22", "AJo", "A2o", "A5s", "A2s", "KTo", "K9s", "QTs", "J9s", "T8s", "98s", "87s", "76s"]
            }
        };

        let score = 0;
        let currentHand = '';
        let villainPos = '';
        let heroPos = '';

        function generateRandomHand() {
            const ranks = "23456789TJQKA";
            return ranks[Math.floor(Math.random() * ranks.length)] + ranks[Math.floor(Math.random() * ranks.length)];
        }

        function shouldCall(heroPos, villainPos, hand) {
            return callRanges[heroPos] && callRanges[heroPos][villainPos] && callRanges[heroPos][villainPos].includes(hand);
        }

        function generateNewQuestion() {
            const villainIndex = Math.floor(Math.random() * (positions.length - 1)); 
            villainPos = positions[villainIndex];

            const heroCandidates = positions.slice(villainIndex + 1);
            heroPos = heroCandidates[Math.floor(Math.random() * heroCandidates.length)];

            currentHand = generateRandomHand();

            document.getElementById("villain-pos").textContent = villainPos;
            document.getElementById("hero-pos").textContent = heroPos;
            document.getElementById("hand").textContent = currentHand;
        }

        function checkAnswer(isCall) {
            if (shouldCall(heroPos, villainPos, currentHand) === isCall) {
                score++;
                alert("✔️ Helyes válasz!");
            } else {
                alert("❌ Rossz válasz! A játék véget ért.");
                score = 0;
            }

            document.getElementById("score").textContent = score;
            generateNewQuestion();
        }

        generateNewQuestion();
    </script>
</body>
</html>
