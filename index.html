<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6-Max Preflop Trainer</title>
</head>
<body>

    <h1>6-Max Preflop Trainer</h1>
    <p id="question"></p>
    <button onclick="checkAnswer(true)">Call</button>
    <button onclick="checkAnswer(false)">Fold</button>
    <p>Pontszám: <span id="score">0</span></p>

    <script>
        
        const positions = ["UTG", "MP", "CO", "BU", "SB", "BB"];
        const callRanges = {
            "MP": {
                "UTG": ["JJ", "TT", "99", "88", "AQo", "AJo", "AQs", "AJs", "KQs"]
            },
            "CO": {
                "UTG": ["JJ", "TT", "99", "88", "AQo", "AJo", "AQs", "AJs", "KQs"],
                "MP": ["TT", "99", "88", "77", "AQo", "ATo", "AQs", "A9s", "KQs", "KJs", "QJs"]
            },
            "BU": {
                "UTG": ["TT", "99", "88", "77", "AQo", "ATo", "AQs", "A9s", "KQs", "KJs", "QJs"],
                "MP": ["TT", "99", "88", "77", "AQo", "ATo", "AQs", "A9s", "KQs", "KJs", "QJs"],
                "CO": ["88", "55", "AJo", "A8o", "A5s", "A2s", "KQo", "KJo", "KTs", "QTs", "JTs"]
            },
            "SB": {
                "UTG": ["TT", "99", "88", "77", "AQo", "ATo", "AQs", "A9s", "KQs", "KJs", "QJs"],
                "MP": ["TT", "99", "88", "77", "AQo", "ATo", "AQs", "A9s", "KQs", "KJs", "QJs"],
                "CO": ["88", "55", "AJo", "A8o", "A5s", "A2s", "KQo", "KJo", "KTs", "QTs", "JTs"],
                "BU": ["77", "22", "AJo", "A8o", "A5s", "A2s", "KTo", "K9s", "QTs", "J9s", "T8s", "98s"]
            },
            "BB": {
                "UTG": ["99", "88", "77", "66", "22", "AJo", "A2o", "A5s", "A2s", "KQo", "KTo", "K9s", "QTs", "J9s", "T8s", "98s"],
                "MP": ["88", "22", "AJo", "A2o", "A6s", "A2s", "KTo", "K9s", "QTs", "J9s", "T8s", "98s", "87s"],
                "CO": ["77", "22", "AJo", "A2o", "A6s", "A2s", "KTo", "K9s", "QTs", "J9s", "T8s", "98s", "87s"],
                "BU": ["66", "22", "AJo", "A2o", "A5s", "A2s", "KTo", "K9s", "QTs", "J9s", "T8s", "98s", "87s", "76s"],
                "SB": ["55", "22", "AJo", "A2o", "A5s", "A2s", "KTo", "K9s", "QTs", "J9s", "T8s", "98s", "87s", "76s"]
            }
        };

       
        let score = 0;
        let villainPos, heroPos, currentHand;

        function generateNewQuestion() {
            villainPos = positions[Math.floor(Math.random() * (positions.length - 1))]; // BB nem emel
            
            // Hero csak későbbi pozícióból választhat
            let villainIndex = positions.indexOf(villainPos);
            let availablePositions = positions.slice(villainIndex + 1);
            heroPos = availablePositions[Math.floor(Math.random() * availablePositions.length)];
            
            currentHand = generateRandomHand();
            
            document.getElementById("question").textContent =
                `Villain (${villainPos}) emelt. Hero (${heroPos}) kapott lapja: ${currentHand}`;
        }

        function generateRandomHand() {
            const ranks = "23456789TJQKA";
            return ranks[Math.floor(Math.random() * ranks.length)] + ranks[Math.floor(Math.random() * ranks.length)];
        }

        function shouldCall(heroPos, villainPos, hand) {
            return callRanges[heroPos]?.[villainPos]?.includes(hand) || false;
        }

        function checkAnswer(isCall) {
            let correctAnswer = shouldCall(heroPos, villainPos, currentHand);

            if (isCall === correctAnswer) {
                score++;
                alert("✔️ Helyes válasz!");
                document.getElementById("score").textContent = score;
                generateNewQuestion();
            } else {
                alert("❌ Rossz válasz! A játék véget ért.");
                score = 0;
                document.getElementById("score").textContent = score;
                generateNewQuestion();
            }
        }

        generateNewQuestion(); // Első kérdés betöltése
    </script>

</body>
</html>
